{% extends "base.html" %}
{% block body %}

<h2 class="mt-4">Doctor List</h2>

<table class="table table-bordered table-hover mt-3">
    <thead class="thead-dark">
        <tr>
            <th>Name</th>
            <th>Department</th>
            <th>Availability</th>
            <th>Patients</th>
            <th>Actions</th>
        </tr>
    </thead>

    <tbody>
        {% for d in doctors %}
        <tr>
            <td>{{ d.doctorname }}</td>
            <td>{{ d.dept }}</td>

            <td>
                {% if d.availability == "Available" %}
                    <span class="badge badge-success">Available</span>
                {% else %}
                    <span class="badge badge-danger">Not Available</span>
                {% endif %}
            </td>

            <td>
                <span class="badge badge-{{ d.badge_color }}" style="font-size:14px;">
                    {{ d.patient_count }}
                </span>
            </td>

            <td>
                <a href="/doctor/availability/{{ d.did }}/Available" class="btn btn-success btn-sm">Available</a>
                <a href="/doctor/availability/{{ d.did }}/Not Available" class="btn btn-danger btn-sm">Not Available</a>
                <a href="/schedule/{{ d.did }}" class="btn btn-primary btn-sm">Set Schedule</a>
                <a href="/doctor-schedule/{{ d.did }}" class="btn btn-info btn-sm">View Schedule</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
